<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Дача на удачу — Аренда дачного участка</title>
    <meta name="description"
        content="Аренда уютной загородной дачи с выбором дат, спальных мест и платных доп. опций." />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../static/css/main.css">
    <script src="../static/js/rent-form.js"></script>
</head>

<body>
    <header>
        <div class="container nav">
            <a class="brand" href="#top" aria-label="Дача на удачу — главная">
                <div class="logo">Д</div>
                <span>Дача на удачу</span>
            </a>
            <nav>
                <a href="#booking">Бронирование</a>
                <a href="#options">Опции</a>
                <a href="#about">О даче</a>
                <a href="#contacts">Контакты</a>
            </nav>
        </div>
    </header>

    <main class="container">
        <section class="hero" id="top">
            <div class="hero-card hero-media">
                <img src="https://images.unsplash.com/photo-1601918774946-25832a4be0d6?q=80&w=1974&auto=format&fit=crop"
                    alt="Фото загородной дачи среди сосен на закате" />
                <div class="hero-badge">Уютная дача у леса • 8 спальных мест</div>
            </div>
            <div class="hero-card hero-content">
                <h1 class="title">Дача на удачу</h1>
                <p class="subtitle">Идеальный отдых за городом: чистый воздух, баня, мангал и тёплая атмосфера. Выберите
                    даты, спальные места и доп. опции — и поехали!</p>
                <div class="chips">
                    <div class="chip">Парковка</div>
                    <div class="chip">Wi‑Fi</div>
                    <div class="chip">Мангал</div>
                    <div class="chip">У леса</div>
                    <div class="chip">Две избы</div>
                </div>
                <a href="#booking"><button class="btn-primary" style="padding:14px 16px; margin-top: 8px;">Забронировать
                        сейчас</button></a>
            </div>
        </section>

        <section id="booking" class="section" aria-label="Бронирование">
            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
            {% for category, message in messages %}
            <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
            {% endif %}
            {% endwith %}
            <form method="post">
                {{ form.hidden_tag() }}
                {{ form.csrf_token() }}
                <div class="grid cols-3">
                    <div class="booking" style="grid-column: span 2;">
                        <h3>Выбор дат</h3>
                        <div class="grid cols-2">
                            <div class="row">
                                {{ form.check_in.label }}<br>
                                {{ form.check_in(size=32, class="input") }}<br>
                                {% for error in form.check_in.errors %}
                                <span style="color: red;">{{ error }}</span>
                                {% endfor %}
                            </div>
                            <div class="row">
                                {{ form.check_out.label }}<br>
                                {{ form.check_out(size=32, class="input") }}<br>
                                {% for error in form.check_out.errors %}
                                <span style="color: red;">{{ error }}</span>
                                {% endfor %}
                            </div>
                        </div>

                        <h3 style="margin-top: 6px;">Выбор спальных мест</h3>
                        <p class="subtitle" style="margin: 0 0 8px;">Два дома по 4 кровати. Нажмите, чтобы выбрать
                            конкретные места.</p>

                        <div class="card" style="margin-bottom: 10px;">
                            <strong>Дом А</strong>
                            <div class="beds" id="houseA"></div>
                        </div>
                        <div class="card">
                            <strong>Дом Б</strong>
                            <div class="beds" id="houseB"></div>
                        </div>

                        <h3 style="margin-top: 6px;">Ваши контакты для бронирования</h3>
                        <div>
                            {{ form.name.label }}<br>
                            {{ form.name(size=32, id="name", class="input") }}<br>
                            {% for error in form.name.errors %}
                            <span style="color: red;">{{ error }}</span>
                            {% endfor %}
                        </div>

                        <div>
                            {{ form.phone.label }}<br>
                            {{ form.phone(id="phone", class="input") }}<br>
                            {% for error in form.phone.errors %}
                            <span style="color: red;">{{ error }}</span>
                            {% endfor %}
                        </div>

                        <div>
                            {{ form.telegram.label }}<br>
                            {{ form.telegram(id="telegram", class="input", placeholder="@username") }}<br>
                            {% for error in form.telegram.errors %}
                            <span style="color: red;">{{ error }}</span>
                            {% endfor %}
                        </div>

                    </div>

                    <aside class="booking" aria-label="Панель стоимости и опций">
                        <h3>Опции и стоимость</h3>

                        <div class="row">
                            <label for="guests">Гостей (до 8)</label>
                            <select id="guests" name="guests" required>
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5</option>
                                <option>6</option>
                                <option>7</option>
                                <option selected>8</option>
                            </select>
                        </div>

                        <div class="row">
                            <label>Платные доп. опции</label>
                            <div class="grid">
                                <label class="option"><span><input type="checkbox" data-price="700" name="ps4" />
                                        Игровая
                                        приставка</span><span>700 ₽</span></label>
                                <label class="option"><span><input type="checkbox" data-price="600" name="tv" />
                                        Телевизор</span><span>600 ₽</span></label>
                                <label class="option"><span><input type="checkbox" data-price="2500" name="sauna" />
                                        Парение в
                                        бане</span><span>2 500 ₽</span></label>
                                <label class="option"><span><input type="checkbox" data-price="1200" name="meat" />
                                        Шашлык на
                                        мангале</span><span>1 200 ₽</span></label>
                                <label class="option"><span><input type="checkbox" data-price="1500" name="rice" /> Плов
                                        в
                                        казане</span><span>1 500 ₽</span></label>
                                <label class="option"><span><input type="checkbox" data-price="900" name="hooka" />
                                        Кальян</span><span>900 ₽</span></label>
                                <label class="option"><span><input type="checkbox" data-price="800" name="caraoke" />
                                        Караоке</span><span>800 ₽</span></label>
                                <label class="option"><span><input type="checkbox" data-price="500" name="tea" /> Чайная
                                        церемония</span><span>500 ₽</span></label>
                            </div>
                        </div>

                        <div class="row">
                            <div class="price-line"><small>Базовая цена/ночь</small><strong id="basePerNight">—</strong>
                            </div>
                            <div class="price-line"><small>Ночей</small><strong id="nights">0</strong></div>
                            <div class="price-line"><small>Гостей</small><strong id="guestsOut">8</strong></div>
                            <div class="price-line"><small>Выбрано мест</small><strong id="bedsOut">0/8</strong></div>
                            <div class="price-line"><small>Опции</small><strong id="extrasOut">0 ₽</strong></div>
                            <hr style="border: none; border-top: 1px solid var(--stroke); margin: 8px 0;" />
                            <div class="price-line total"><span>Итого</span><span id="total">0 ₽</span></div>
                        </div>


                        {{ form.submit(class="btn-primary input", id="bookBtn") }}
                        <small class="subtitle">Нажимая «Забронировать», вы подтверждаете согласие с условиями аренды и
                            обработкой персональных данных.</small>

                    </aside>
                </div>
            </form>
        </section>
        <section id="about" class="section">
            <h2 style="margin-top:0">О даче</h2>
            <div class="cards">
                <div class="card"><strong>Расположение</strong>
                    <p class="subtitle">Тихий посёлок у соснового леса и озера. Отличная транспортная доступность.</p>
                </div>
                <div class="card"><strong>Удобства</strong>
                    <p class="subtitle">Две тёплые избы, баня, мангал, казан, терраса, скоростной интернет, парковка на
                        3 авто.</p>
                </div>
                <div class="card"><strong>Для компаний</strong>
                    <p class="subtitle">8 отдельных спальных
                        ьных мест, просторная кухня‑гостиная, настольные игры и отдых на свежем воздухе.</p>
                </div>
            </div>
        </section>

        <section id="contacts" class="section">
            <h2 style="margin-top:0">Контакты</h2>
            <div class="card">
                <p class="subtitle">Телефон: <a href="tel:+79990000000" style="color: var(--text)">+7 (999)
                        000‑00‑00</a><br />
                    Telegram/WhatsApp: <a href="#" style="color: var(--text)">@dacha_na_udachu</a><br />
                    Адрес: Лесная 7, «Берёзки»</p>
            </div>
        </section>

        <section id="place" class="section card">
            <h2>Как добраться 📍</h2>

            <h3>Адрес</h3>
            <p>Россия, Московская обл., городской округ Щёлково, СНТ Заря-2, д. 177</p>
            <script type="text/javascript" charset="utf-8" async
                src="https://api-maps.yandex.ru/services/constructor/1.0/js/?um=constructor%3Aa8a1d59ed9ad6a54beb707555ed3b7d9182acc54f0515cd4b61f52cdf21bfb84&amp;width=1033&amp;height=427&amp;lang=ru_RU&amp;scroll=true"></script>
            <h3>На личном транспорте</h3>
            <ol>
                <li>По Щелковскому шоссе до г. Фрязино</li>
                <li>В городе по проспекту Мира до поворота на ул. Фабричная</li>
                <li>Далее по ул. Фабричная до усадьбы Гребнево</li>
            </ol>

            <h3>На каршеринге</h3>
            <ol>
                <li>Так же как и на личном транспорте. Близжайшая остановка каршенгша Делимобиль - возле усадьбы
                    Гребнево
                    (см. карту)</li>
            </ol>

            <h3>Общественным транспортом</h3>
            <ol>
                <li>Метро ст. Щелковская (автовокзал), маршрут №361 до автостанции г. Фрязино</li>
                <li>Далее местный маршрут №43 или №23 до остановки «Усадьба Гребнево»</li>
                <li>Электричкой с Ярославского железнодорожного вокзала до станции Фрязино пассажирская</li>
                <li>Далее автобус №43 до остановки «Усадьба Гребнево»</li>
            </ol>
        </section>

        <footer>
            <div class="container">
                © <span id="year"></span> Дача на удачу — все права защищены
            </div>
        </footer>
    </main>

    <!-- Modal -->
    <div class="modal-backdrop" id="modal">
        <div class="modal" role="dialog" aria-modal="true" aria-labelledby="mTitle">
            <h3 id="mTitle">Заявка на бронирование отправлена</h3>
            <p class="subtitle" id="mBody">Мы свяжемся с вами в ближайшее время для подтверждения.</p>
            <div style="display:flex; gap:10px; justify-content:flex-end; margin-top:12px;">
                <button id="closeModal" class="input">Закрыть</button>
                <button id="confirmModal" class="btn-primary">Отлично!</button>
            </div>
        </div>
    </div>
</body>

</html>